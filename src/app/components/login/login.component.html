<div class="login-container">
  <div class="login-wrapper">
    <div class="login-header">
      <button class="back-button" (click)="goBack()">
        <i class="fas fa-arrow-left"></i>
        Volver
      </button>
      <div class="logo">TradeEU</div>
    </div>

    <div class="login-card">
      <div class="login-card-header">
        <h1>Iniciar Sesión</h1>
        <p>Accede a tu cuenta de trading</p>
      </div>

      <form [formGroup]="loginForm" (ngSubmit)="onSubmit()" class="login-form">
        <div class="form-group">
          <label for="email">Correo Electrónico</label>
          <div class="input-wrapper">
            <i class="fas fa-envelope input-icon"></i>
            <input
              type="email"
              id="email"
              formControlName="email"
              class="form-control"
              [class.error]="loginForm.get('email')?.invalid && loginForm.get('email')?.touched"
              placeholder="tu@email.com">
          </div>
          <div class="error-message" *ngIf="getErrorMessage('email')">
            {{ getErrorMessage('email') }}
          </div>
        </div>

        <div class="form-group">
          <label for="password">Contraseña</label>
          <div class="input-wrapper">
            <i class="fas fa-lock input-icon"></i>
            <input
              [type]="showPassword ? 'text' : 'password'"
              id="password"
              formControlName="password"
              class="form-control"
              [class.error]="loginForm.get('password')?.invalid && loginForm.get('password')?.touched"
              placeholder="Tu contraseña">
            <button
              type="button"
              class="password-toggle"
              (click)="togglePasswordVisibility()">
              <i [class]="showPassword ? 'fas fa-eye-slash' : 'fas fa-eye'"></i>
            </button>
          </div>
          <div class="error-message" *ngIf="getErrorMessage('password')">
            {{ getErrorMessage('password') }}
          </div>
        </div>

        <div class="form-options">
          <label class="checkbox-label">
            <input type="checkbox" formControlName="rememberMe">
            <span class="checkmark"></span>
            Recordarme
          </label>
          <a href="#" class="forgot-link">¿Olvidaste tu contraseña?</a>
        </div>

        <div class="error-alert" *ngIf="errorMessage">
          <i class="fas fa-exclamation-triangle"></i>
          {{ errorMessage }}
        </div>

        <button
          type="submit"
          class="login-button"
          [disabled]="isLoading"
          [class.loading]="isLoading">
          <span *ngIf="!isLoading">Iniciar Sesión</span>
          <span *ngIf="isLoading">
            <i class="fas fa-spinner fa-spin"></i>
            Iniciando sesión...
          </span>
        </button>

        <div class="demo-info">
          <p><strong>Credenciales de prueba:</strong></p>
          <p>Email: admin&#64;tradeeu.com | Contraseña: 123456</p>
          <p>Email: demo&#64;tradeeu.com | Contraseña: Demo123!</p>
        </div>
      </form>

      <div class="register-link">
        <p>¿No tienes una cuenta? 
          <a (click)="goToRegister()" class="link">Regístrate aquí</a>
        </p>
      </div>
    </div>

    <div class="login-features">
      <div class="feature">
        <i class="fas fa-shield-alt"></i>
        <span>Seguridad garantizada</span>
      </div>
      <div class="feature">
        <i class="fas fa-clock"></i>
        <span>Acceso 24/7</span>
      </div>
      <div class="feature">
        <i class="fas fa-mobile-alt"></i>
        <span>Plataforma móvil</span>
      </div>
    </div>
  </div>
</div>
